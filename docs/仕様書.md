# チームカレンダーアプリ 仕様書

## 1. 概要

本アプリケーションは、Googleカレンダーと連携し、チームメンバーのスケジュールを視覚的に分かりやすく表示することに特化したWebアプリケーションである。個々のカレンダーを横断的に表示することで、チーム全体の動向やリソースの空き状況を直感的に把握し、円滑なチーム運営を支援することを目的とする。

## 2. 機能要件

### 2.1. グループ管理機能

ユーザーは、カレンダーを一緒に表示したいメンバーの集合を「グループ」として管理できる。

-   **グループ作成機能**
    -   新しいグループを作成し、任意の名前を付けることができる。
    -   グループに所属させるチームメンバー（Googleアカウント）を選択して追加できる。
-   **グループ編集機能**
    -   既存のグループの名前を変更できる。
    -   グループに所属するメンバーを追加または削除できる。
    -   グループ自体を削除できる。

### 2.2. チームカレンダービュー

選択したグループのメンバーの予定を、週単位のタイムライン形式で表示する。

-   **基本レイアウト**
    -   **表示単位**: 1週間単位（月〜日）で表示する。週の移動（前週・次週へ）が可能であること。
    -   **行**: グループに所属する各メンバーが、それぞれ一行で表示される。行頭にはメンバーのGoogleアカウントのプロフィール画像と名前を表示する。
    -   **列**: 時間軸とする。
-   **予定の表示**
    -   各メンバーのGoogleカレンダーの予定を、タイムライン上のブロックとして表示する。
    -   ブロックの長さは、予定の開始時刻と終了時刻を反映する。
    -   ブロックの色は、Googleカレンダーで設定された色をデフォルトで反映する。
    -   ブロック内には予定のタイトルを表示する。
    -   カーソルを予定ブロックに合わせると、詳細情報（日時、場所、説明など）をポップアップで表示する。
-   **終日予定の表示**
    -   「終日」として設定されている予定は、各メンバーのタイムラインの上部に、日付に紐づく形で帯状に表示する。

### 2.3. LLMによる自動ラベリング & ハイライト機能

予定の内容をLLMが解釈し、自動でラベル付けと視覚的なハイライトを行うことで、予定の性質を一目で識別できるようにする。

-   **自動ラベリング**
    -   予定のタイトルや説明文に基づき、LLMが予定の種類を判断し、適切なラベル（例：「会議」「外出」「休暇」「資料作成」など）を自動で付与する。
-   **ハイライト**
    -   付与されたラベルに応じて、予定ブロックの表示スタイル（背景色、アイコン表示など）を自動で変更する。
    -   例えば、「休暇」ラベルが付いた予定は特定の色で塗りつぶし、「会議」にはアイコンを付ける、といった視覚的強調を行う。
    -   ハイライトのルール（どのラベルにどのスタイルを適用するか）は、ユーザーが設定可能であること。

## 3. 非機能要件

-   **認証**: Google OAuth 2.0 を利用し、ユーザーは自身のGoogleアカウントでログインする。
-   **データソース**: Google Calendar API v3 を使用する。
-   **プラットフォーム**: モダンブラウザで動作するWebアプリケーションとする。
-   **役割**: 本アプリケーションはビューアーに特化し、Googleカレンダーへの予定の書き込み（作成・編集・削除）機能は持たない。
