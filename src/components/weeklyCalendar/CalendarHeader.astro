---
export interface Props {
  dateHeaders: { dayLabel: string; dateStr: string; date: Date }[]
}

const { dateHeaders } = Astro.props
---

<div class="calendar-header">
  <div class="corner-cell" aria-hidden="true"></div>
  {dateHeaders.map((header, index) => (
    <div class={`day-header content-appear-delay-${Math.min(index + 1, 3)}`} role="columnheader">
      <div class="day-label visual-secondary">{header.dayLabel}</div>
      <div class="date-label visual-tertiary">{header.dateStr}</div>
    </div>
  ))}
</div>

<style>
  .calendar-header {
    display: grid;
    grid-template-columns: 160px repeat(7, 1fr);
    background: var(--color-background-secondary);
    border-bottom: 1px solid var(--color-border);
    position: sticky;
    top: 0;
    z-index: 10;

    .corner-cell {
      border-right: 1px solid var(--color-border);
    }

    .day-header {
      padding: var(--spacing-3);
      text-align: center;
      border-right: 1px solid var(--color-border);
      position: relative;

      &:last-child {
        border-right: none;
      }

      &.day-header:nth-child(7),
      &.day-header:nth-child(8) {
        background-color: rgba(0, 0, 0, 0.02);
      }

      .day-label {
        margin-bottom: var(--spacing-1);
        font-size: var(--font-size-sm);
        font-weight: var(--font-weight-medium);
      }

      &:nth-child(7) .day-label {
        color: var(--color-info);
      }

      &:nth-child(8) .day-label {
        color: var(--color-error);
      }

      .date-label {
        font-size: var(--font-size-xs);
      }
    }
  }

  /* Dark-mode weekend bg */
  @media (prefers-color-scheme: dark) {
    .day-header:nth-child(7),
    .day-header:nth-child(8) {
      background-color: rgba(239, 68, 68, 0.03);
    }
  }
</style> 